#!/bin/sh
export LC_ALL=C.UTF-8
export LANG=C.UTF-8
export PROJECTS=$HOME/Git
export DOTFILES=$HOME/Git/__dotfiles__

alias todo='vim ~/host/Desktop/todo.txt'

# fancy ssh-stuff!
#export SSH_AUTH_SOCK=~/.ssh/ssh-agent.$HOSTNAME.sock
function auth() {
	eval `ssh-agent` ; ssh-add
#	ssh-add -l 2>/dev/null >/dev/null
#	if [ $? -ge 2 ]; then
#	  ssh-agent -a "$SSH_AUTH_SOCK" >/dev/null
#	fi
}
#eval `ssh-agent`
#ssh-add

FILES=$( find $DOTFILES -name sourceme.sh )
for file in $FILES ; do
	echo "Sourcing: $file"
	source $file
done

if [ -z "$PS1" ]; then
        echo "---===[[[ this shell is not interactive ]]]===---"
else
	ssh_agent_status() {
        GREEN='\033[1;32m'
        NC='\033[0m' # No Color
		if [ "" == "$SSH_AUTH_SOCK" ] ;
            then printf '\xf0\x9F\x94\x92 '  # lock character
		    else printf "${GREEN}\xE2\x80\xA2${NC} "  # triangle character
		    #else printf '\xE2\x80\xA2\xf0\x9F\x94\x91 '  # unlock character
		fi
	}
	alias ls='ls --color=auto'
	alias sra='ssh robertames.com'
        echo "---===[[[ THIS SHELL IS INTERACTIVE ]]]===---"
	LOCKED='(locked)'
	UNLOCKED='(unlocked)'
	PROMPT_COMMAND="ssh_agent_status"
fi
